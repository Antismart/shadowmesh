# ShadowMesh Gateway Environment Variables
# Copy this file to .env and fill in your values

# GitHub OAuth (required for GitHub repo picker in dashboard)
# Create OAuth App at: https://github.com/settings/developers
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# Optional: Override the OAuth callback URL (defaults to http://localhost:{port}/api/github/callback)
# GITHUB_REDIRECT_URL=https://your-domain.com/api/github/callback

# API Authentication (comma-separated list of valid API keys)
# Generate with: openssl rand -hex 32
# SHADOWMESH_API_KEYS=key1,key2,key3

# Admin key for API key management (enables /api/keys endpoints)
# SHADOWMESH_ADMIN_KEY=your_admin_key

# CORS allowed origins (comma-separated, use * for all - NOT recommended for production)
# SHADOWMESH_SECURITY_ALLOWED_ORIGINS=https://your-domain.com,https://app.your-domain.com

# Redis connection (optional — enables persistent deployment storage)
# REDIS_URL=redis://127.0.0.1:6379

# Naming layer keypair (hex-encoded 32-byte Ed25519 seed for signing .shadow records)
# If not set, a random keypair is generated on each restart (owned names will be lost)
# Generate with: openssl rand -hex 32
# SHADOWMESH_NAMING_KEY=your_hex_seed

# Logging and observability
# SHADOWMESH_LOG_FORMAT=json        # "json" or "pretty" (default: pretty)
# SHADOWMESH_PRODUCTION=true        # Enable production mode (stricter defaults)
# SHADOWMESH_ENV=production         # Environment name (dev/staging/production)

# OpenTelemetry (optional — sends traces to an OTLP-compatible collector)
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# P2P bootstrap nodes (comma-separated multiaddrs, overrides built-in defaults)
# Format: /ip4/{ip}/tcp/{port}/p2p/{peer_id}
# SHADOWMESH_BOOTSTRAP_NODES=/ip4/1.2.3.4/tcp/4001/p2p/12D3KooW...

# Gateway configuration file path (default: gateway/config.toml)
# SHADOWMESH_CONFIG_PATH=/etc/shadowmesh/config.toml
